"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.deleteVerificationRequest = void 0;
var client_dynamodb_1 = require("@aws-sdk/client-dynamodb");
var deleteVerificationRequest = function (_a) {
    var client = _a.client, logger = _a.logger, tableOptions = _a.tableOptions;
    return function (email, verificationToken, _secret, _provider) {
        var DEBUG_ID = 'deleteVerification';
        logger.debug(DEBUG_ID, email, verificationToken);
        var verificationRequestsTable = tableOptions.verificationRequestsTable;
        if (!verificationRequestsTable) {
            return Promise.reject(new Error('verificationRequestsTable name was not provided'));
        }
        var ItemCommandInput = {
            TableName: verificationRequestsTable,
            Key: {
                email: { S: email },
            },
        };
        return new Promise(function (resolve, reject) {
            return client
                .send(new client_dynamodb_1.DeleteItemCommand(ItemCommandInput))
                .then(function (_clientResponse) { return resolve(); })
                .catch(function (error) {
                logger.error(DEBUG_ID, error);
                reject(error);
            });
        });
    };
};
exports.deleteVerificationRequest = deleteVerificationRequest;
//# sourceMappingURL=deleteVerificationRequest.js.map