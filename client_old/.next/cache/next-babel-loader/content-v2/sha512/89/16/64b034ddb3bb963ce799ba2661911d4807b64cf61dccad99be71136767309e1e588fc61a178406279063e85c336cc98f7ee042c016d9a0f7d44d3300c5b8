{"ast":null,"code":"// This is an example of to protect an API route\nimport { getSession } from 'next-auth/client';\nimport axios from 'axios';\nconst url = 'https://j29mwfcm7h.execute-api.us-east-2.amazonaws.com/dev/jobs';\nexport default (async (req, res) => {\n  const session = await getSession({\n    req\n  });\n  const {\n    user: {\n      userId\n    }\n  } = session;\n  const {\n    company,\n    jobTitle,\n    status: {\n      value\n    }\n  } = req.body;\n\n  if (session) {\n    //Add Job\n    let response = await axios.post(url, {\n      userId: userId,\n      company: company,\n      title: jobTitle,\n      status: value\n    });\n    res.send({\n      success: 'Successfully created user',\n      user: response.data\n    });\n  } else {\n    res.send({\n      error: 'You must be sign in to view the protected content on this page.'\n    });\n  }\n});","map":{"version":3,"sources":["/Users/klay/Documents/Seekr/client/pages/api/jobs/index.js"],"names":["getSession","axios","url","req","res","session","user","userId","company","jobTitle","status","value","body","response","post","title","send","success","data","error"],"mappings":"AAAA;AACA,SAASA,UAAT,QAA2B,kBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,GAAG,GAAG,iEAAZ;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,QAAMC,OAAO,GAAG,MAAML,UAAU,CAAC;AAAEG,IAAAA;AAAF,GAAD,CAAhC;AACA,QAAM;AACJG,IAAAA,IAAI,EAAE;AAAEC,MAAAA;AAAF;AADF,MAEFF,OAFJ;AAIA,QAAM;AACJG,IAAAA,OADI;AAEJC,IAAAA,QAFI;AAGJC,IAAAA,MAAM,EAAE;AAAEC,MAAAA;AAAF;AAHJ,MAIFR,GAAG,CAACS,IAJR;;AAMA,MAAIP,OAAJ,EAAa;AACX;AACA,QAAIQ,QAAQ,GAAG,MAAMZ,KAAK,CAACa,IAAN,CAAWZ,GAAX,EAAgB;AACnCK,MAAAA,MAAM,EAAEA,MAD2B;AAEnCC,MAAAA,OAAO,EAAEA,OAF0B;AAGnCO,MAAAA,KAAK,EAAEN,QAH4B;AAInCC,MAAAA,MAAM,EAAEC;AAJ2B,KAAhB,CAArB;AAMAP,IAAAA,GAAG,CAACY,IAAJ,CAAS;AAAEC,MAAAA,OAAO,EAAE,2BAAX;AAAwCX,MAAAA,IAAI,EAAEO,QAAQ,CAACK;AAAvD,KAAT;AACD,GATD,MASO;AACLd,IAAAA,GAAG,CAACY,IAAJ,CAAS;AACPG,MAAAA,KAAK,EAAE;AADA,KAAT;AAGD;AACF,CA1BD","sourcesContent":["// This is an example of to protect an API route\nimport { getSession } from 'next-auth/client'\nimport axios from 'axios'\n\nconst url = 'https://j29mwfcm7h.execute-api.us-east-2.amazonaws.com/dev/jobs'\n\nexport default async (req, res) => {\n  const session = await getSession({ req })\n  const {\n    user: { userId },\n  } = session\n\n  const {\n    company,\n    jobTitle,\n    status: { value },\n  } = req.body\n\n  if (session) {\n    //Add Job\n    let response = await axios.post(url, {\n      userId: userId,\n      company: company,\n      title: jobTitle,\n      status: value,\n    })\n    res.send({ success: 'Successfully created user', user: response.data })\n  } else {\n    res.send({\n      error: 'You must be sign in to view the protected content on this page.',\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}