{"ast":null,"code":"// This is an example of to protect an API route\nimport { getSession } from 'next-auth/client';\nimport axios from 'axios';\nexport default (async (req, res) => {\n  const {\n    status\n  } = req.body;\n  const session = await getSession({\n    req\n  });\n  const {\n    user: {\n      userId\n    }\n  } = session;\n  const url = `https://j29mwfcm7h.execute-api.us-east-2.amazonaws.com/dev/jobs/status?status=${status}`;\n\n  if (session) {\n    // Get All Jobs\n    let response = await axios.post(url, {\n      userId: userId\n    });\n    res.send({\n      success: 'Successfully got all Jobs',\n      jobs: response.data.items\n    });\n  } else {\n    res.send({\n      error: 'You must be sign in to view the protected content on this page.'\n    });\n  }\n});","map":{"version":3,"sources":["/Users/klay/Documents/Seekr/client/pages/api/jobs/status.js"],"names":["getSession","axios","req","res","status","body","session","user","userId","url","response","post","send","success","jobs","data","items","error"],"mappings":"AAAA;AACA,SAASA,UAAT,QAA2B,kBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,QAAM;AAAEC,IAAAA;AAAF,MAAaF,GAAG,CAACG,IAAvB;AACA,QAAMC,OAAO,GAAG,MAAMN,UAAU,CAAC;AAAEE,IAAAA;AAAF,GAAD,CAAhC;AACA,QAAM;AACJK,IAAAA,IAAI,EAAE;AAAEC,MAAAA;AAAF;AADF,MAEFF,OAFJ;AAGA,QAAMG,GAAG,GAAI,iFAAgFL,MAAO,EAApG;;AAEA,MAAIE,OAAJ,EAAa;AACX;AACA,QAAII,QAAQ,GAAG,MAAMT,KAAK,CAACU,IAAN,CAAWF,GAAX,EAAgB;AACnCD,MAAAA,MAAM,EAAEA;AAD2B,KAAhB,CAArB;AAIAL,IAAAA,GAAG,CAACS,IAAJ,CAAS;AACPC,MAAAA,OAAO,EAAE,2BADF;AAEPC,MAAAA,IAAI,EAAEJ,QAAQ,CAACK,IAAT,CAAcC;AAFb,KAAT;AAID,GAVD,MAUO;AACLb,IAAAA,GAAG,CAACS,IAAJ,CAAS;AACPK,MAAAA,KAAK,EAAE;AADA,KAAT;AAGD;AACF,CAvBD","sourcesContent":["// This is an example of to protect an API route\nimport { getSession } from 'next-auth/client'\nimport axios from 'axios'\n\nexport default async (req, res) => {\n  const { status } = req.body\n  const session = await getSession({ req })\n  const {\n    user: { userId },\n  } = session\n  const url = `https://j29mwfcm7h.execute-api.us-east-2.amazonaws.com/dev/jobs/status?status=${status}`\n\n  if (session) {\n    // Get All Jobs\n    let response = await axios.post(url, {\n      userId: userId,\n    })\n\n    res.send({\n      success: 'Successfully got all Jobs',\n      jobs: response.data.items,\n    })\n  } else {\n    res.send({\n      error: 'You must be sign in to view the protected content on this page.',\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}